## ${경로:}
application.yml 파일에서 값을 가져올 때는 @Value("${custom.market.toss.payments.secretKey:}") 이렇게 ${경로:} 형식이어야 해? :도 붙어야해?


결론부터 말씀드리면, **`:`(콜론)은 필수가 아닙니다.**

하지만 `:`이 있고 없고에 따라 **동작 방식(특히 에러 발생 여부)에 큰 차이**가 있습니다. 상황에 맞춰 골라 쓰셔야 합니다.

---

### 1. 차이점 핵심 요약

| 구문 형식 | 의미 | `yml`에 값이 없을 경우 동작 | 사용 권장 상황 |
| --- | --- | --- | --- |
| **`${경로}`** | **필수 값** | **에러 발생** (서버 시작 불가)<br>

<br>`IllegalArgumentException` | 반드시 있어야 하는 설정<br>

<br>(DB 접속 정보, 필수 API 키 등) |
| **`${경로:}`** | **기본값 = 빈 문자열** | 에러 없음<br>

<br>결과값으로 `""` (빈 문자열) 반환 | 값이 없어도 되는 선택적 설정 |
| **`${경로:기본값}`** | **기본값 지정** | 에러 없음<br>

<br>지정한 `기본값` 반환 | 값이 없을 때 특정 값을 써야 하는 경우 |

---

### 2. 상세 설명 및 예시

#### 경우 1: `:` 없이 사용할 때 (필수 값)

```java
// yml에 custom.market.toss.payments.secretKey가 없으면 에러가 터짐
@Value("${custom.market.toss.payments.secretKey}")
private String secretKey;

```

* **특징:** `application.yml`에 해당 키가 정의되어 있지 않으면, 스프링 부트 애플리케이션이 **실행되는 시점에 에러를 내면서 종료**됩니다.
* **장점:** 필수 설정이 누락된 것을 바로 알 수 있어 안전합니다.

#### 경우 2: `:` 만 붙일 때 (빈 문자열 처리)

```java
// yml에 값이 없으면 secretKey 변수에 "" (빈 문자열)이 들어감
@Value("${custom.market.toss.payments.secretKey:}")
private String secretKey;

```

* **특징:** `:` 뒤에 아무것도 적지 않으면 **"값이 없으면 빈 문자열(`""`)을 넣어라"**는 뜻입니다.
* **장점:** 설정이 없어도 에러가 나지 않으므로, 선택적인(Optional) 값에 주로 사용합니다.

#### 경우 3: `:값` 을 붙일 때 (특정 기본값 처리)

```java
// yml에 값이 없으면 secretKey 변수에 "default-key"가 들어감
@Value("${custom.market.toss.payments.secretKey:default-key}")
private String secretKey;

```

* **특징:** 값이 없을 때 사용할 대체 텍스트를 지정합니다.

---

### 3. 요약 및 추천

질문하신 `secretKey`의 경우, 토스 페이먼츠 연동을 위한 **필수 인증 키**일 확률이 높습니다.

* 만약 이 키가 없으면 결제 기능이 아예 동작하지 않아야 한다면, **`:`를 빼고 `${...}`만 쓰는 것이 더 안전합니다.** (설정 누락을 바로 알 수 있으니까요.)
* 만약 로컬 개발 환경 등에서 키 없이도 서버가 켜져야 한다면 **`${...:}`** 를 사용하세요.

혹시 `@Value` 대신, 설정값들을 묶어서 관리하는 `@ConfigurationProperties` 사용법에 대해 알고 싶으신가요?